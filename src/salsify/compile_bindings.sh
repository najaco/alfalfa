# !/bin/bash
# g++ -DHAVE_CONFIG_H -I. -I../..  -I./../util -I./../decoder -I./../display -I./../input -I./../encoder -I./../net -fPIC $(python3 -m pybind11 --includes)  -std=c++14 -pthread  -pedantic -O3 -Wall -shared in_time_encoder.cc -o in_time_encoder$(python3-config --extension-suffix) ../net/libnet.a ../encoder/libalfalfaencoder.a ../input/libalfalfainput.a ../decoder/libalfalfadecoder.a ../util/libalfalfautil.a -lx264  -ljpeg $(python3-config --ldflags) 
# g++ -fPIC -std=c++14 -I. -I../..  -I./../util -I./../decoder -I./../display -I./../input -I./../encoder -I./../net  $(python3 -m pybind11 --includes) -pthread  -pedantic -O3 -Wall -shared -rdynamic in_time_encoder.cc ../encoder/*.cc -o in_time_encoder$(python3-config --extension-suffix) # -fPIC -fPIE -pie ../net/libnet.a ../encoder/libalfalfaencoder.a ../input/libalfalfainput.a ../decoder/libalfalfadecoder.a ../util/libalfalfautil.a -lx264  -ljpeg $(python3-config --embed --ldflags)
g++ -fPIC -std=c++14  -pthread  -pedantic -O3 -Wall -shared -rdynamic -I. -I../..  -I./../util -I./../decoder -I./../display -I./../input -I./../encoder -I./../net $(python3 -m pybind11 --includes) in_time_encoder.cc  -o in_time_encoder$(python3-config --extension-suffix) -fPIC --whole-file $(python3-config --ldflags --embed) ../net/libnet.a ../encoder/libalfalfaencoder.a ../input/libalfalfainput.a ../decoder/libalfalfadecoder.a ../util/libalfalfautil.a -lx264  -ljpeg
# g++ -fPIC -std=c++14  -pthread  -pedantic -O3 -Wall -shared -rdynamic $(python3-config --ldflags --embed) ../net/libnet.a ../encoder/libalfalfaencoder.a ../input/libalfalfainput.a ../decoder/libalfalfadecoder.a ../util/libalfalfautil.a -lx264  -ljpeg $(python3-config --libs) in_time_encoder.o -o in_time_encoder$(python3-config --extension-suffix)
# ld -relocatable ../encoder/*.o ../decoer/*.o ../decoder/*.o in_time_encoder.o -o in_time_encoder$(python3-config --extension-suffix)
